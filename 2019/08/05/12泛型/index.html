<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="闭关修仙の小弟的博客">
    <meta name="keyword"  content="闭关修仙">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        12泛型 - 闭关修仙的小弟
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<link rel="stylesheet" href="/css/prism-darcula.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Hello World </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>闭关修仙的小弟</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archive">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#泛型"><span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#泛型有两种表现形式-泛型类型和泛型方法。"><span class="toc-text">泛型有两种表现形式:泛型类型和泛型方法。</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#泛型的写法"><span class="toc-text">泛型的写法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#使用泛型"><span class="toc-text">使用泛型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#使用泛型的优势"><span class="toc-text">使用泛型的优势</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#比较泛型和非泛型算法的性能"><span class="toc-text">比较泛型和非泛型算法的性能</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#FLC中的泛型"><span class="toc-text">FLC中的泛型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#泛型基础结构"><span class="toc-text">泛型基础结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CLR内部如何处理泛型"><span class="toc-text">CLR内部如何处理泛型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#泛型类型和继承"><span class="toc-text">泛型类型和继承</span></a></li></ol></li></ol>
</div>

    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> Hello World </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        12泛型
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-08-05 12:34:17</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#CLR读书笔记" title="CLR读书笔记">CLR读书笔记</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><p><strong>泛型</strong> 支持另一种形式的代码重用,即 <strong>算法重用</strong>.</p>
<p>定义算法的开发人员不设定该算法要<code>操作的数据类型</code>, 该算法可广泛的应用于不同类型的对象.</p>
<h2 id="泛型有两种表现形式-泛型类型和泛型方法。"><a href="#泛型有两种表现形式-泛型类型和泛型方法。" class="headerlink" title="泛型有两种表现形式:泛型类型和泛型方法。"></a>泛型有两种表现形式:泛型类型和泛型方法。</h2><p>CLR允许创建:</p>
<ul>
<li>泛型引用类型</li>
<li>泛型值类型</li>
<li>泛型接口</li>
<li>泛型委托</li>
</ul>
<p>不允许创建<code>泛型枚举类型</code>.</p>
<p>CLR也允许在引用类型,值类型和接口中<code>定义泛型方法</code>.</p>
<h1 id="泛型的写法"><a href="#泛型的写法" class="headerlink" title="泛型的写法"></a>泛型的写法</h1><p>例如泛型类<code>List</code>类, 在类名后添加一个<code>&lt;T&gt;</code>, 表名它操作的是一个未指定的数据类型.</p>
<p>定义泛型类或方法时, 为类型指定的任何变量(比如T),都称为<code>类型参数</code>. T是变量名,源代码能使用数据类型的任何地方都能使用T.</p>
<blockquote>
<p>命名规则: 泛型参数变量要么称为T, 要么以大写T开头(TKey,TValue) , 类似I代表接口一样.T代表类型Type.</p>
</blockquote>
<h2 id="使用泛型"><a href="#使用泛型" class="headerlink" title="使用泛型"></a>使用泛型</h2><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">SomeMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 构造一个List来操作DateTime对象</span>
  List<span class="token operator">&lt;</span>DateTime<span class="token operator">></span> dtList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">List</span><span class="token operator">&lt;</span>DateTime<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  dtList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//不进行装箱, 值类型</span>

  dtList<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"1/1/2004"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 编译时错误,检查类型</span>

  DateTime dt <span class="token operator">=</span> dtList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 不需要转型</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="使用泛型的优势"><a href="#使用泛型的优势" class="headerlink" title="使用泛型的优势"></a>使用泛型的优势</h1><ol>
<li>源代码保护<ol>
<li>不需要使用泛型算法的开发人员访问算法的源代码</li>
</ol>
</li>
<li>类型安全<ol>
<li>将泛型算法应用于具体的类型时,编译器和CLR能保证只有与指定类型兼容的对象才能用于算法.否则编译时报错.</li>
</ol>
</li>
<li>更清晰的代码<ol>
<li>由于编译器强制类型安全, 所以减少了类型强制转换次数.<code>DateTime dt = dtList[0];</code></li>
</ol>
</li>
<li>更佳的性能<ol>
<li>值类型能以传值的形式传递,不需要执行任何装箱操作.CLR无需验证这种转型是否类型安全,提高了代码的运行速度.</li>
</ol>
</li>
</ol>
<h1 id="比较泛型和非泛型算法的性能"><a href="#比较泛型和非泛型算法的性能" class="headerlink" title="比较泛型和非泛型算法的性能"></a>比较泛型和非泛型算法的性能</h1><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Generics</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Performance<span class="token punctuation">.</span><span class="token function">ValueTypePerfTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Performance<span class="token punctuation">.</span><span class="token function">ReferenceTypePerfTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">internal</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Performance</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 值类型的泛型类和非泛型类性能测试</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">ValueTypePerfTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">const</span> Int32 count <span class="token operator">=</span> <span class="token number">100000000</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 泛型类List&lt;Int32>性能测试</span>
        <span class="token comment" spellcheck="true">// 运行性能计时器, 在using代码块结束后会DisPose停止计时</span>
        <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OperationTimer</span><span class="token punctuation">(</span><span class="token string">"List&lt;Int32>"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            List<span class="token operator">&lt;</span>Int32<span class="token operator">></span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">List</span><span class="token operator">&lt;</span>Int32<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Int32 n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 不发生装箱</span>
                Int32 x <span class="token operator">=</span> l<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 不发生拆箱</span>
            <span class="token punctuation">}</span>
            l <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 使引用为null,确保进行垃圾回收</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// 非泛型类ArrayList&lt;Int32>性能测试</span>
        <span class="token comment" spellcheck="true">// 运行性能计时器, 在using代码块结束后会DisPose停止计时</span>
        <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OperationTimer</span><span class="token punctuation">(</span><span class="token string">"ArrayList of Int32"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            ArrayList a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Int32 n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                a<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment" spellcheck="true">// 装箱</span>
                Int32 x <span class="token operator">=</span> <span class="token punctuation">(</span>Int32<span class="token punctuation">)</span> a<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 拆箱</span>
            <span class="token punctuation">}</span>
            a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 使引用为null,确保进行垃圾回收</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// 引用类型的非泛型和泛型性能测试</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">ReferenceTypePerfTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">const</span> Int32 count <span class="token operator">=</span> <span class="token number">100000000</span><span class="token punctuation">;</span>

        <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OperationTimer</span><span class="token punctuation">(</span><span class="token string">"List&lt;String>"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            List<span class="token operator">&lt;</span>String<span class="token operator">></span> l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">List</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Int32 n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// 字符串</span>
                l<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"X"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// Reference copy</span>
                String x <span class="token operator">=</span> l<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Reference copy</span>
            <span class="token punctuation">}</span>
            l <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Make sure this gets GC'd</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OperationTimer</span><span class="token punctuation">(</span><span class="token string">"ArrayList of String"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            ArrayList a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Int32 n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// 字符串</span>
                a<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"X"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment" spellcheck="true">// Reference copy</span>
                String x <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> a<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Cast check &amp; reference copy</span>
            <span class="token punctuation">}</span>
            a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Make sure this gets GC'd</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 用于运行时性能计时</span>
    <span class="token keyword">private</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">OperationTimer</span> <span class="token punctuation">:</span> IDisposable
    <span class="token punctuation">{</span>
        <span class="token keyword">private</span> Stopwatch m_stopwatch<span class="token punctuation">;</span>
        <span class="token keyword">private</span> String    m_text<span class="token punctuation">;</span>
        <span class="token keyword">private</span> Int32     m_collectionCount<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">OperationTimer</span><span class="token punctuation">(</span>String text<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token function">PrepareForOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            m_text            <span class="token operator">=</span> text<span class="token punctuation">;</span>
            m_collectionCount <span class="token operator">=</span> GC<span class="token punctuation">.</span><span class="token function">CollectionCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// This should be the last statement in this</span>
            <span class="token comment" spellcheck="true">// method to keep timing as accurate as possible</span>
            m_stopwatch <span class="token operator">=</span> Stopwatch<span class="token punctuation">.</span><span class="token function">StartNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// 在using代码块结束后会Dispose会执行</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"{0} (GCs={1,3}) {2}"</span><span class="token punctuation">,</span>
                <span class="token punctuation">(</span>m_stopwatch<span class="token punctuation">.</span>Elapsed<span class="token punctuation">)</span><span class="token punctuation">,</span>
                GC<span class="token punctuation">.</span><span class="token function">CollectionCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">-</span> m_collectionCount<span class="token punctuation">,</span> m_text<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// 强制垃圾回收器执行</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">PrepareForOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// 首先 GC.Collect(); 并不会立即去回收 只是告诉回收器 去回收</span>
            <span class="token comment" spellcheck="true">// 垃圾收集器在一次垃圾收集过程中,垃圾收集器的逻辑不能保证所有未引用的对象都从堆中删除</span>

            <span class="token comment" spellcheck="true">// 我们可以显式调用 GC.Collect();GC.WaitForPendingFinalizers();</span>
            <span class="token comment" spellcheck="true">// 这两行代码进行强制回收的执行</span>
            GC<span class="token punctuation">.</span><span class="token function">Collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// 挂起当前线程，直到处理终结器队列的线程清空该队列为止。</span>
            GC<span class="token punctuation">.</span><span class="token function">WaitForPendingFinalizers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            GC<span class="token punctuation">.</span><span class="token function">Collect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>00:00:00.6625861 (GCs=  6) List<int32><br>00:00:05.5150908 (GCs=388) ArrayList of Int32<br>00:00:01.1244509 (GCs=  1) List<string><br>00:00:01.2407716 (GCs=  0) ArrayList of String</string></int32></p>
<p>结果表明:</p>
<ol>
<li>泛型List算法比非泛型ArrayList算法快得多.</li>
<li>ArrayList会造成大量装箱,要进行频繁的垃圾回收</li>
<li>引用类型则区别不大</li>
</ol>
<blockquote>
<p>首次为特定的数据类型调用方法时,CLR都会为这个方法生成本机代码.</p>
</blockquote>
<h1 id="FLC中的泛型"><a href="#FLC中的泛型" class="headerlink" title="FLC中的泛型"></a>FLC中的泛型</h1><p>泛型最明显的应用是集合类. Microsoft建议使用泛型集合类,不建议使用非泛型集合类.常用的接口包含在Sysytem.Collections.Generic命名空间中。</p>
<p><code>System.Array</code>类(即所有数组的基类)提供了大量静态泛型方法，比如，AsReadonly、FindAll、Find、FindIndex等。</p>
<p>集合类实现了许多接口,放入集合中的对象<code>可实现接口</code>来执行排序和搜索等操作.</p>
<h1 id="泛型基础结构"><a href="#泛型基础结构" class="headerlink" title="泛型基础结构"></a>泛型基础结构</h1><h2 id="CLR内部如何处理泛型"><a href="#CLR内部如何处理泛型" class="headerlink" title="CLR内部如何处理泛型"></a>CLR内部如何处理泛型</h2><p>CLR会为应用程序的各种类型创建称为<code>类型对象</code>的内部数据结构. 泛型类型参数仍然是类型,CLR同样会创建内部数据结构.(包括 引用类型(类),值类型(结构), 接口类型和委托类型).</p>
<p>具有<code>泛型参数</code>的类型称为<code>开放类型</code>. <strong>CLR禁止构造开放类型的任何实例.</strong> 类似于禁止构造接口类型实例.</p>
<p>代码<code>引用泛型类型</code>时,为所有类型参数传递了实际的数据类型,类型就成为<code>封闭类型</code>, CLR允许创建封闭类型的实例.如果在引用泛型类型时,留下一些泛型类型 <strong>实参未指定</strong>,CLR就会创建开放类型对象,而且不能创建该类型的实例.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token comment" spellcheck="true">// 定义一个部分指定的开放类型</span>
<span class="token keyword">internal</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">DictonaryStringKey</span><span class="token operator">&lt;</span>TValue<span class="token operator">></span> <span class="token punctuation">:</span> Dictionary<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> TValue<span class="token operator">></span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Object o <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// Dictionary&lt;,>有2个泛型参数,是开放类型,不允许创建实例</span>
    Type t <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>Dictionary<span class="token operator">&lt;</span><span class="token punctuation">,</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 在运行时抛出异常, 创建失败</span>
    o <span class="token operator">=</span> <span class="token function">CreateInstance</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// DictonaryStringKey&lt;>,有一个泛型参数没指定,所以是开放类型</span>
    t <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>DictonaryStringKey<span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 在运行时抛出异常, 创建失败</span>
    o <span class="token operator">=</span> <span class="token function">CreateInstance</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 传入了确定的类型,就是封闭类型</span>
    t <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>DictonaryStringKey<span class="token operator">&lt;</span>Guid<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 创建成功</span>
    o <span class="token operator">=</span> <span class="token function">CreateInstance</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>

    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">GetType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> Object <span class="token function">CreateInstance</span><span class="token punctuation">(</span>Type t<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Object o <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        o <span class="token operator">=</span> Activator<span class="token punctuation">.</span><span class="token function">CreateInstance</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>$<span class="token string">"已创建{t.ToString()}的实例."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArgumentException</span> e<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>Message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> o<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 输出:</span>
<span class="token comment" spellcheck="true">// Cannot create an instance of System.Collections.Generic.Dictionary`2[TKey,TValue] because Type.ContainsGenericParameters is true.</span>
<span class="token comment" spellcheck="true">// Cannot create an instance of DictonaryStringKey`1[TValue] because Type.ContainsGenericParameters is true.</span>
<span class="token comment" spellcheck="true">// 已创建DictonaryStringKey`1[System.Guid]的实例.</span>
<span class="token comment" spellcheck="true">// DictonaryStringKey`1[System.Guid]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>如上代码, Activator.CreateInstance在运行时试图构造开放类型的实例时,会抛出ArgumentException异常,并指明泛型参数.</p>
<p>类型名以 <code>单引号+数字</code>结尾, 数字代表类型的元数,也就是要求的参数个数,Dictionary类的元数是2, 要求<code>[TKey,TValue]</code> . <code>DictonaryStringKey</code>要求一个<code>[TValue]</code>, 指定元数的具体类型.</p>
<ul>
<li>CLR会在类型对象内部分配<code>类型的静态字段</code>( 非静态的字段是实例的,这里是类型字段,回顾第四章 )</li>
<li>每个封闭类型都有自己的静态字段<ul>
<li>换言之:List<t>中定义了任何静态字段,不会在List<a>和List<b>之间共享.</b></a></t></li>
</ul>
</li>
<li>如果定义了泛型类的<code>静态构造器</code>,那针对每个封闭类类,构造器都会执行一次.<ul>
<li><strong>泛型静态构造器目的是保证传递的类型参数满足特定条件</strong>.</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">internal</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token operator">&lt;</span>T<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 静态类型构造器</span>
    <span class="token keyword">static</span> <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 这样定义只能处理枚举类型的泛型类型</span>
        <span class="token comment" spellcheck="true">// CLR提供了约束的功能, 可以更好的指定有效的类型实参,</span>
        <span class="token comment" spellcheck="true">// 但是约束无法将类型实参限制为仅枚举类型. 由于这个原因,</span>
        <span class="token comment" spellcheck="true">// 所以需要用静态构构造器来保证类型是一个枚举类型</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">.</span>IsEnum<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"T must be an Enum "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// 实例构造器</span>
    <span class="token keyword">public</span> <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="泛型类型和继承"><a href="#泛型类型和继承" class="headerlink" title="泛型类型和继承"></a>泛型类型和继承</h2><p>使用泛型类型并指定类型的实参时,实际是在CLR中定义一个<code>新的类型对象</code>, <code>新的类型对象</code>从泛型类型派生自的那个类型派生.</p>
<ul>
<li><code>List&lt;T&gt;</code>从<code>Object</code>派生,<code>List&lt;String&gt;</code>和<code>List&lt;Guid&gt;</code>也从<code>Objcet</code>派生.</li>
<li><code>DictonaryStringKey&lt;TValue&gt;</code>从<code>Dictionary&lt;String, TValue&gt;</code>派生, 那么<code>DictonaryStringKey&lt;Guid&gt;</code>是从<code>Dictonary&lt;String, Guid&gt;</code>派生.</li>
</ul>
<p><strong>指定类型实参不影响继承层次结构.</strong> 需要判断强制类型转换是否是允许的.</p>
<p>定义一个如下链表节点类:</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 传入构造函数需要的参数</span>
    Node<span class="token operator">&lt;</span>Char<span class="token operator">></span> head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token operator">&lt;</span>Char<span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 输出ABC</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 链表节点类</span>
<span class="token keyword">internal</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">Node</span><span class="token operator">&lt;</span>T<span class="token operator">></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> T m_data<span class="token punctuation">;</span>
    <span class="token keyword">public</span> Node<span class="token operator">&lt;</span>T<span class="token operator">></span>  m_next<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Node</span><span class="token punctuation">(</span>T mData<span class="token punctuation">,</span> Node<span class="token operator">&lt;</span>T<span class="token operator">></span> mNext<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        m_data <span class="token operator">=</span> mData<span class="token punctuation">;</span>
        m_next <span class="token operator">=</span> mNext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">// 单参数构造函数,会通过this指针调用Node(T mData, Node&lt;T> mNext)构造函数</span>
    <span class="token keyword">public</span> <span class="token function">Node</span><span class="token punctuation">(</span>T mData<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>mData<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> m_data<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>m_next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> m_next<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> String<span class="token punctuation">.</span>Empty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在这个Node类中,对于m_next字段引用的另一个节点来说, m_data字段必须包含相同的数据类型, 例如不能一个包含Char,一个包含String,一个包含DataTime.  如果全部用<code>Node&lt;Object&gt;</code>,会失去编译时的类型安全性,值类型会被装箱.  </p>
<p>很好的办法是定义<code>非泛型Node基类.</code> 再定义<code>泛型TypedNode类</code>(用<code>Node类</code>作为基类). 这样就可以创建一个链表,每个节点都可以是一种具体的数据类型(不能是Object),并防止了值类型装箱.</p>
<pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 传入构造函数需要的参数</span>
    Node head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeNode</span><span class="token operator">&lt;</span>Char<span class="token operator">></span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeNode</span><span class="token operator">&lt;</span>DateTime<span class="token operator">></span><span class="token punctuation">(</span>DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">,</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeNode</span><span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token string">"Today is "</span><span class="token punctuation">,</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>head<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Today is 2019/8/5 18:06:43.</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 非泛型Node基类</span>
<span class="token keyword">internal</span> <span class="token keyword">class</span> <span class="token class-name">Node</span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> Node m_next<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">Node</span><span class="token punctuation">(</span>Node mNext<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        m_next <span class="token operator">=</span> mNext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// 链表节点类</span>
<span class="token keyword">internal</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">TypeNode</span><span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">:</span> Node
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> T m_data<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 基类没有无参构造函数,派生类要显式实现一个</span>
    <span class="token keyword">public</span> <span class="token function">TypeNode</span><span class="token punctuation">(</span>T mData<span class="token punctuation">,</span> Node mNext<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>mNext<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        m_data <span class="token operator">=</span> mData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 使用单个参数构造函数用this调用TypeNode(T mData, Node mNext),</span>
    <span class="token keyword">public</span> <span class="token function">TypeNode</span><span class="token punctuation">(</span>T mData<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span>mData<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token keyword">string</span> <span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> m_data<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>m_next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> m_next<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> String<span class="token punctuation">.</span>Empty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">赞赏</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="/img/donate.jpg">
        <p> 感谢支持 </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/zxt385189207">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://www.baidu.com">baidu</a></span>
        <span>/</span>
        
        <span><a href="https://www.google.com">google</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script type="text/javascript">
       (function() {
           if (typeof LivereTower === 'function') { return; }

           var j, d = document.getElementById('lv-container');

           d.setAttribute('data-id','city');
           d.setAttribute('data-uid' , 'MTAyMC80NTEwMS8yMTYxOA==');

           j = document.createElement('script');
           j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
           j.async = true;

           d.appendChild(j);
       })();
    </script>
    <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
    </div>

</html>
